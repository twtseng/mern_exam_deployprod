{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\tomts\\\\source\\\\repos\\\\CodingDojo\\\\Dojo_Exams\\\\mern_exam_deployprod\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React from'react';import axios from'axios';import{Form,Button,Card,Jumbotron}from'react-bootstrap';import{navigate}from'@reach/router';var PetEdit=function PetEdit(props){var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),validationError=_React$useState2[0],setValidationError=_React$useState2[1];var _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),name=_React$useState4[0],setName=_React$useState4[1];var _React$useState5=React.useState(\"\"),_React$useState6=_slicedToArray(_React$useState5,2),type=_React$useState6[0],setType=_React$useState6[1];var _React$useState7=React.useState(\"\"),_React$useState8=_slicedToArray(_React$useState7,2),description=_React$useState8[0],setDescription=_React$useState8[1];var _React$useState9=React.useState(\"\"),_React$useState10=_slicedToArray(_React$useState9,2),skill1=_React$useState10[0],setSkill1=_React$useState10[1];var _React$useState11=React.useState(\"\"),_React$useState12=_slicedToArray(_React$useState11,2),skill2=_React$useState12[0],setSkill2=_React$useState12[1];var _React$useState13=React.useState(\"\"),_React$useState14=_slicedToArray(_React$useState13,2),skill3=_React$useState14[0],setSkill3=_React$useState14[1];var getSelectedPet=function getSelectedPet(){axios.get(\"http://localhost:8000/api/pets/\".concat(props.id)).then(function(response){var pet=response.data.result;setName(pet.name);setType(pet.type);setDescription(pet.description);setSkill1(pet.skill1);setSkill2(pet.skill2);setSkill3(pet.skill3);});};React.useEffect(function(){getSelectedPet();},[props.id]);var updatePet=function updatePet(){var updatedPet={name:name,type:type,description:description,skill1:skill1,skill2:skill2,skill3:skill3};axios.patch(\"http://localhost:8000/api/pets/\".concat(props.id),updatedPet).then(function(response){if(response.data.status===\"succeeded\"){props.refreshPets();navigate(\"/\");}else{setValidationError(JSON.stringify(response.data.message));}}).catch(function(err){var errors=[];console.log(err.response);var data=err.response.data;for(var key in data.errors){errors.push(data.errors[key].message);}setValidationError(errors.join(\", \"));});};return/*#__PURE__*/React.createElement(Jumbotron,null,/*#__PURE__*/React.createElement(\"h3\",null,\"Edit Pet\"),/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(Form.Group,{controlId:\"itemName\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Pet Name\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",placeholder:\"Enter name\",value:name,onChange:function onChange(e){return setName(e.target.value);}})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"type\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Pet Type\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",placeholder:\"Enter type\",value:type,onChange:function onChange(e){return setType(e.target.value);}})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"description\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Pet Description\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",placeholder:\"Enter description\",value:description,onChange:function onChange(e){return setDescription(e.target.value);}})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"skill1\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Skill 1\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",placeholder:\"Enter skill1\",value:skill1,onChange:function onChange(e){return setSkill1(e.target.value);}})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"skill2\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Skill 2\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",placeholder:\"Enter skill2\",value:skill2,onChange:function onChange(e){return setSkill2(e.target.value);}})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"skill3\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Skill 3\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",placeholder:\"Enter skill3\",value:skill3,onChange:function onChange(e){return setSkill3(e.target.value);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-around\"},/*#__PURE__*/React.createElement(Button,{variant:\"primary\",onClick:function onClick(){return navigate(\"/\");}},\"Cancel\"),/*#__PURE__*/React.createElement(Button,{variant:\"primary\",onClick:updatePet},\"Submit\")),/*#__PURE__*/React.createElement(Card.Text,{className:\"text-danger\"},validationError)));};export default PetEdit;","map":{"version":3,"sources":["C:/Users/tomts/source/repos/CodingDojo/Dojo_Exams/mern_exam_deployprod/client/src/components/PetEdit.js"],"names":["React","axios","Form","Button","Card","Jumbotron","navigate","PetEdit","props","useState","validationError","setValidationError","name","setName","type","setType","description","setDescription","skill1","setSkill1","skill2","setSkill2","skill3","setSkill3","getSelectedPet","get","id","then","response","pet","data","result","useEffect","updatePet","updatedPet","patch","status","refreshPets","JSON","stringify","message","catch","err","errors","console","log","key","push","join","e","target","value"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport { Form, Button, Card, Jumbotron } from 'react-bootstrap';\r\nimport { navigate } from '@reach/router';\r\n\r\nconst PetEdit = props => {\r\n    const [validationError, setValidationError] = React.useState(\"\");\r\n    const [name, setName] = React.useState(\"\")\r\n    const [type, setType] = React.useState(\"\")\r\n    const [description, setDescription] = React.useState(\"\")\r\n    const [skill1, setSkill1] = React.useState(\"\")\r\n    const [skill2, setSkill2] = React.useState(\"\")\r\n    const [skill3, setSkill3] = React.useState(\"\")\r\n\r\n    const getSelectedPet = () => {\r\n        axios.get(`http://localhost:8000/api/pets/${props.id}`)\r\n        .then(response => {\r\n            let pet = response.data.result;\r\n            setName(pet.name);\r\n            setType(pet.type);\r\n            setDescription(pet.description);\r\n            setSkill1(pet.skill1);\r\n            setSkill2(pet.skill2);\r\n            setSkill3(pet.skill3);\r\n        })\r\n    };\r\n    React.useEffect(() => {\r\n        getSelectedPet();\r\n    },[props.id]);\r\n\r\n    const updatePet = () => {\r\n        let updatedPet = {\r\n            name: name,\r\n            type: type,\r\n            description: description,\r\n            skill1: skill1,\r\n            skill2: skill2,\r\n            skill3: skill3\r\n        }\r\n        axios.patch(`http://localhost:8000/api/pets/${props.id}`, updatedPet)\r\n            .then(response => {\r\n                if (response.data.status === \"succeeded\") {\r\n                    props.refreshPets();\r\n                    navigate(\"/\");\r\n                } else {\r\n                    setValidationError(JSON.stringify(response.data.message));\r\n                }\r\n            })\r\n            .catch(err => {\r\n                let errors = [];\r\n                console.log(err.response);\r\n                let data = err.response.data;\r\n                for (let key in data.errors) {\r\n                    errors.push(data.errors[key].message);\r\n                }\r\n                setValidationError(errors.join(\", \"));\r\n            });\r\n    }        \r\n    return (\r\n<Jumbotron>\r\n            <h3>Edit Pet</h3>\r\n            <Form>\r\n            <Form.Group controlId=\"itemName\">\r\n                <Form.Label>Pet Name</Form.Label>\r\n                <Form.Control type=\"text\" placeholder=\"Enter name\" value={name} onChange={e => setName(e.target.value)}/>\r\n            </Form.Group>\r\n            <Form.Group controlId=\"type\">\r\n                <Form.Label>Pet Type</Form.Label>\r\n                <Form.Control type=\"text\" placeholder=\"Enter type\" value={type} onChange={e => setType(e.target.value)}/>\r\n            </Form.Group>\r\n            <Form.Group controlId=\"description\">\r\n                <Form.Label>Pet Description</Form.Label>\r\n                <Form.Control type=\"text\" placeholder=\"Enter description\" value={description} onChange={e => setDescription(e.target.value)}/>\r\n            </Form.Group>\r\n            <Form.Group controlId=\"skill1\">\r\n                <Form.Label>Skill 1</Form.Label>\r\n                <Form.Control type=\"text\" placeholder=\"Enter skill1\" value={skill1} onChange={e => setSkill1(e.target.value)}/>\r\n            </Form.Group>\r\n            <Form.Group controlId=\"skill2\">\r\n                <Form.Label>Skill 2</Form.Label>\r\n                <Form.Control type=\"text\" placeholder=\"Enter skill2\" value={skill2} onChange={e => setSkill2(e.target.value)}/>\r\n            </Form.Group>\r\n            <Form.Group controlId=\"skill3\">\r\n                <Form.Label>Skill 3</Form.Label>\r\n                <Form.Control type=\"text\" placeholder=\"Enter skill3\" value={skill3} onChange={e => setSkill3(e.target.value)}/>\r\n            </Form.Group>\r\n            <div className=\"d-flex justify-content-around\">\r\n            <Button variant=\"primary\" onClick={() => navigate(\"/\")}>\r\n                Cancel\r\n            </Button>\r\n            <Button variant=\"primary\" onClick={updatePet}>\r\n                Submit\r\n            </Button>\r\n            </div>\r\n            <Card.Text className=\"text-danger\">\r\n                {validationError}\r\n            </Card.Text>\r\n            </Form>\r\n        </Jumbotron>\r\n    )\r\n}\r\n\r\nexport default PetEdit\r\n"]},"metadata":{},"sourceType":"module"}