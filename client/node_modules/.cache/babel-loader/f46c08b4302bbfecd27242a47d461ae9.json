{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tomts\\\\source\\\\repos\\\\CodingDojo\\\\Dojo_Exams\\\\mern_exam_dev\\\\client\\\\src\\\\components\\\\UserRegistration.js\";\nimport React from 'react';\nimport { Card, Form, Button } from 'react-bootstrap';\nimport axios from 'axios';\nimport { navigate } from '@reach/router';\n\nconst UserRegistration = props => {\n  const [validationError, setValidationError] = React.useState(\"\");\n  const [userName, setUserName] = React.useState(props.userName);\n  const [email, setEmail] = React.useState(props.email);\n\n  const registerUser = () => {\n    axios.patch(\"http://localhost:8000/login/registeruser\", {\n      name: userName,\n      email: email\n    }, {\n      withCredentials: true\n    }).then(response => {\n      props.setUserName(userName);\n      window.location = \"/\";\n    }).catch(err => {\n      let errors = [];\n      let data = err.response.data;\n\n      for (let key in data.errors) {\n        errors.push(data.errors[key].message);\n      }\n\n      setValidationError(errors.join(\", \"));\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Card.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }\n  }, \"Edit username and password\"), /*#__PURE__*/React.createElement(Card.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 21\n    }\n  }, \"User name\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"Enter your username\",\n    value: userName,\n    onChange: e => setUserName(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"formBasicEmail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 21\n    }\n  }, \"Email address\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"email\",\n    placeholder: \"Enter email\",\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Form.Text, {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 21\n    }\n  }, \"We'll never share your email with anyone else.\")), /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    onClick: registerUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }\n  }, \"Submit\")), /*#__PURE__*/React.createElement(Card.Text, {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, validationError)));\n};\n\nexport default UserRegistration;","map":{"version":3,"sources":["C:/Users/tomts/source/repos/CodingDojo/Dojo_Exams/mern_exam_dev/client/src/components/UserRegistration.js"],"names":["React","Card","Form","Button","axios","navigate","UserRegistration","props","validationError","setValidationError","useState","userName","setUserName","email","setEmail","registerUser","patch","name","withCredentials","then","response","window","location","catch","err","errors","data","key","push","message","join","e","target","value"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Card, Form, Button } from 'react-bootstrap';\r\nimport axios from 'axios';\r\nimport { navigate } from '@reach/router';\r\n\r\nconst UserRegistration = props => {\r\n    const [validationError, setValidationError] = React.useState(\"\");\r\n    const [userName, setUserName] = React.useState(props.userName);\r\n    const [email, setEmail] = React.useState(props.email);\r\n    const registerUser = () => {\r\n        axios.patch(\"http://localhost:8000/login/registeruser\", { name:userName, email:email }, { withCredentials: true })\r\n        .then(response => {\r\n            props.setUserName(userName);\r\n            window.location = \"/\";\r\n        })\r\n        .catch(err => {\r\n            let errors = [];\r\n            let data = err.response.data;\r\n            for (let key in data.errors) {\r\n                errors.push(data.errors[key].message);\r\n            }\r\n            setValidationError(errors.join(\", \"));\r\n        });\r\n    }\r\n    return (\r\n        <Card>\r\n            <Card.Header>Edit username and password</Card.Header>\r\n            <Card.Body>\r\n            <Form>\r\n                <Form.Group controlId=\"username\">\r\n                    <Form.Label>User name</Form.Label>\r\n                    <Form.Control type=\"text\" placeholder=\"Enter your username\" value={userName} onChange={e => setUserName(e.target.value)}/>\r\n                </Form.Group>\r\n                <Form.Group controlId=\"formBasicEmail\">\r\n                    <Form.Label>Email address</Form.Label>\r\n                    <Form.Control type=\"email\" placeholder=\"Enter email\" value={email} onChange={e => setEmail(e.target.value)}/>\r\n                    <Form.Text className=\"text-muted\">\r\n                    We'll never share your email with anyone else.\r\n                    </Form.Text>\r\n                </Form.Group>\r\n                <Button variant=\"primary\" onClick={registerUser}>\r\n                    Submit\r\n                </Button>\r\n            </Form>\r\n            <Card.Text className=\"text-danger\">\r\n            {validationError}\r\n            </Card.Text>\r\n            </Card.Body>\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default UserRegistration\r\n"]},"metadata":{},"sourceType":"module"}